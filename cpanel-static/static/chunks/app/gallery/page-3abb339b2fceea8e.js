(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6235],{1469:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(t,{default:function(){return c},getImageProps:function(){return n}});let s=l(8229),a=l(8883),r=l(3063),i=s._(l(1193));function n(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,l]of Object.entries(t))void 0===l&&delete t[e];return{props:t}}let c=r.Image},3871:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>n});var s=l(5155),a=l(2115),r=l(9185);function i(e){let{collages:t,onFilterChange:l}=e,[r,i]=(0,a.useState)("All"),n=["All",...Array.from(new Set(t.map(e=>e.category)))];return(0,s.jsx)("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:n.map(e=>(0,s.jsx)("button",{onClick:()=>{i(e),"All"===e?l(t):l(t.filter(t=>t.category===e))},className:"px-6 py-2 rounded-full font-medium transition-colors duration-200 ".concat(r===e?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-300"),children:e},e))})}function n(){let[e,t]=(0,a.useState)(null),[l,n]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[o,x]=(0,a.useState)(!0);(0,a.useEffect)(()=>{m()},[]);let m=async()=>{try{let[e,l]=await Promise.all([fetch("/api/site"),fetch("/api/collages")]);if(e.ok){let l=await e.json();t(l)}if(l.ok){let e=await l.json();n(e),d(e)}}catch(e){console.error("Failed to fetch data:",e)}finally{x(!1)}};return o?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-xl",children:"Loading..."})}):e?(0,s.jsx)("main",{className:"flex-1 bg-gray-50",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"College Gallery"}),(0,s.jsx)("p",{className:"text-xl text-gray-600",children:"Explore our collection of memorable moments and experiences"})]}),(0,s.jsx)(i,{collages:l,onFilterChange:d}),0===c.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("p",{className:"text-gray-500 text-lg mb-4",children:"No collages found!"}),(0,s.jsxs)("p",{className:"text-gray-400",children:["Try selecting a different category or visit the"," ",(0,s.jsx)("a",{href:"/admin",className:"text-blue-600 hover:underline",children:"admin panel"})," ","to create new collages."]})]}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:c.map(e=>(0,s.jsx)(r.A,{collage:e},e.id))})]})}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-xl text-red-600",children:"Failed to load site settings"})})}},6766:(e,t,l)=>{"use strict";l.d(t,{default:()=>a.a});var s=l(1469),a=l.n(s)},8800:(e,t,l)=>{Promise.resolve().then(l.bind(l,3871))},9185:(e,t,l)=>{"use strict";l.d(t,{A:()=>n});var s=l(5155),a=l(6874),r=l.n(a),i=l(6766);function n(e){let{collage:t}=e;return(0,s.jsx)(r(),{href:"/collage/".concat(t.id),children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg hover:border-blue-400 border border-transparent transition-all duration-300 cursor-pointer flex flex-col h-full min-h-[370px]",children:[(0,s.jsxs)("div",{className:"aspect-video relative bg-gray-200",children:[t.images.length>0?(0,s.jsx)(i.default,{src:t.images[0],alt:t.title,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"}):(0,s.jsx)("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No Image"}),t.featured&&(0,s.jsx)("div",{className:"absolute top-3 right-3 bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-semibold",children:"Featured"}),(0,s.jsx)("div",{className:"absolute top-3 left-3 bg-blue-600 text-white px-2 py-1 rounded-full text-xs font-medium",children:t.category})]}),(0,s.jsxs)("div",{className:"p-4 flex flex-col flex-1",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2 line-clamp-2",children:t.title}),t.description&&(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:t.description}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-500 mt-auto",children:[(0,s.jsxs)("span",{children:[t.images.length," image",1!==t.images.length?"s":""]}),(0,s.jsx)("span",{children:new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),t.tags&&t.tags.length>0&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-1 mt-3",children:[t.tags.slice(0,3).map((e,t)=>(0,s.jsxs)("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs",children:["#",e]},t)),t.tags.length>3&&(0,s.jsxs)("span",{className:"text-gray-400 text-xs",children:["+",t.tags.length-3," more"]})]})]})]})})}}},e=>{e.O(0,[3063,6874,8441,5964,7358],()=>e(e.s=8800)),_N_E=e.O()}]);