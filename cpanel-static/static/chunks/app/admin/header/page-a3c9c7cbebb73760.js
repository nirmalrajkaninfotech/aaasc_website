(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9818],{1069:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(5155),r=a(2115),s=a(6766);let n={id:"header3",title:"Welcome to Our Website",subtitle:"Your compelling subtitle goes here",imageUrl:"/images/header-banner.jpg",updatedAt:new Date().toISOString()};function i(e){let{isAdmin:t=!1,onSave:a,initialContent:i=n}=e,[o,d]=(0,r.useState)(i),[c,u]=(0,r.useState)(!1),[x,h]=(0,r.useState)(!1),m=async()=>{if(a){h(!0);try{await a({...o,updatedAt:new Date().toISOString()}),u(!1)}catch(e){console.error("Failed to save header content:",e),d(i)}finally{h(!1)}}};return o?(0,l.jsxs)("header",{className:"relative w-full",children:[(0,l.jsxs)("div",{className:"relative w-full h-64 md:h-96 overflow-hidden",children:[(0,l.jsx)(s.default,{src:o.imageUrl,alt:o.title,fill:!0,className:"object-cover object-center",priority:!0}),(0,l.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center text-white px-4",children:[c?(0,l.jsx)("input",{type:"text",value:o.title,onChange:e=>d({...o,title:e.target.value}),className:"text-3xl md:text-5xl font-bold bg-white bg-opacity-20 p-2 rounded w-full max-w-2xl text-center"}):(0,l.jsx)("h1",{className:"text-3xl md:text-5xl font-bold mb-4",children:o.title}),c?(0,l.jsx)("input",{type:"text",value:o.subtitle,onChange:e=>d({...o,subtitle:e.target.value}),className:"text-xl md:text-2xl bg-white bg-opacity-20 p-2 rounded w-full max-w-2xl text-center"}):(0,l.jsx)("p",{className:"text-xl md:text-2xl",children:o.subtitle})]})})]}),t&&(0,l.jsx)("div",{className:"bg-gray-100 p-4",children:(0,l.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold",children:"Header Settings"}),c?(0,l.jsxs)("div",{className:"space-x-2",children:[(0,l.jsx)("button",{onClick:()=>{d(i),u(!1)},className:"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-200",disabled:x,children:"Cancel"}),(0,l.jsx)("button",{onClick:m,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:x,children:x?"Saving...":"Save Changes"})]}):(0,l.jsx)("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Edit Header"})]})})]}):null}function o(){let[e,t]=(0,r.useState)(null),[a,s]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/header3",{cache:"no-store"});if(!e.ok)throw Error("Failed to fetch header content");let a=await e.json();t(a)}catch(e){console.error("Error:",e)}finally{s(!1)}})()},[]);let n=async e=>{try{let a=await fetch("/api/header3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),cache:"no-store"});if(!a.ok)throw Error("Failed to save header content");let l=await a.json();return t(l),!0}catch(e){return console.error("Error:",e),!1}};return a?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):e?(0,l.jsxs)("div",{className:"container mx-auto p-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Header Management"}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,l.jsx)(i,{isAdmin:!0,initialContent:e,onSave:n})})]}):(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsx)("p",{className:"text-red-500",children:"Failed to load header content"})})}},1469:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return o},getImageProps:function(){return i}});let l=a(8229),r=a(8883),s=a(3063),n=l._(a(1193));function i(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let o=s.Image},6766:(e,t,a)=>{"use strict";a.d(t,{default:()=>r.a});var l=a(1469),r=a.n(l)},7011:(e,t,a)=>{Promise.resolve().then(a.bind(a,1069))}},e=>{e.O(0,[3063,8441,5964,7358],()=>e(e.s=7011)),_N_E=e.O()}]);