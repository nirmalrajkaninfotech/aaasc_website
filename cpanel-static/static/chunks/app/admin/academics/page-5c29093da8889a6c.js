(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2501],{760:(e,t,r)=>{"use strict";r.d(t,{N:()=>b});var s=r(5155),a=r(2115),o=r(869),l=r(2885),i=r(7494),n=r(845),d=r(7351),c=r(1508);class u extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,d.s)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function x(e){let{children:t,isPresent:r,anchorX:o,root:l}=e,i=(0,a.useId)(),n=(0,a.useRef)(null),d=(0,a.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:x}=(0,a.useContext)(c.Q);return(0,a.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:a,right:c}=d.current;if(r||!n.current||!e||!t)return;n.current.dataset.motionPopId=i;let u=document.createElement("style");x&&(u.nonce=x);let h=null!=l?l:document.head;return h.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===o?"left: ".concat(a):"right: ".concat(c),"px !important;\n            top: ").concat(s,"px !important;\n          }\n        ")),()=>{h.contains(u)&&h.removeChild(u)}},[r]),(0,s.jsx)(u,{isPresent:r,childRef:n,sizeRef:d,children:a.cloneElement(t,{ref:n})})}let h=e=>{let{children:t,initial:r,isPresent:o,onExitComplete:i,custom:d,presenceAffectsLayout:c,mode:u,anchorX:h,root:p}=e,g=(0,l.M)(m),f=(0,a.useId)(),b=!0,y=(0,a.useMemo)(()=>(b=!1,{id:f,initial:r,isPresent:o,custom:d,onExitComplete:e=>{for(let t of(g.set(e,!0),g.values()))if(!t)return;i&&i()},register:e=>(g.set(e,!1),()=>g.delete(e))}),[o,g,i]);return c&&b&&(y={...y}),(0,a.useMemo)(()=>{g.forEach((e,t)=>g.set(t,!1))},[o]),a.useEffect(()=>{o||g.size||!i||i()},[o]),"popLayout"===u&&(t=(0,s.jsx)(x,{isPresent:o,anchorX:h,root:p,children:t})),(0,s.jsx)(n.t.Provider,{value:y,children:t})};function m(){return new Map}var p=r(2082);let g=e=>e.key||"";function f(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}let b=e=>{let{children:t,custom:r,initial:n=!0,onExitComplete:d,presenceAffectsLayout:c=!0,mode:u="sync",propagate:x=!1,anchorX:m="left",root:b}=e,[y,j]=(0,p.xQ)(x),v=(0,a.useMemo)(()=>f(t),[t]),w=x&&!y?[]:v.map(g),N=(0,a.useRef)(!0),k=(0,a.useRef)(v),C=(0,l.M)(()=>new Map),[P,L]=(0,a.useState)(v),[S,E]=(0,a.useState)(v);(0,i.E)(()=>{N.current=!1,k.current=v;for(let e=0;e<S.length;e++){let t=g(S[e]);w.includes(t)?C.delete(t):!0!==C.get(t)&&C.set(t,!1)}},[S,w.length,w.join("-")]);let W=[];if(v!==P){let e=[...v];for(let t=0;t<S.length;t++){let r=S[t],s=g(r);w.includes(s)||(e.splice(t,0,r),W.push(r))}return"wait"===u&&W.length&&(e=W),E(f(e)),L(v),null}let{forceRender:D}=(0,a.useContext)(o.L);return(0,s.jsx)(s.Fragment,{children:S.map(e=>{let t=g(e),a=(!x||!!y)&&(v===S||w.includes(t));return(0,s.jsx)(h,{isPresent:a,initial:(!N.current||!!n)&&void 0,custom:r,presenceAffectsLayout:c,mode:u,root:b,onExitComplete:a?void 0:()=>{if(!C.has(t))return;C.set(t,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(null==D||D(),E(k.current),x&&(null==j||j()),d&&d())},anchorX:m,children:e},t)})})}},2016:(e,t,r)=>{Promise.resolve().then(r.bind(r,3811))},3811:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(5155),a=r(2115),o=r(8274),l=r(760),i=r(8280),n=r(5552);function d(){let[e,t]=(0,a.useState)({title:"Academic Programs",subtitle:"Explore our diverse range of academic programs",programs:[],additionalInfo:""}),[r,i]=(0,a.useState)(!0),[n,d]=(0,a.useState)(!1),[j,v]=(0,a.useState)("programs"),[w,N]=(0,a.useState)(null),[k,C]=(0,a.useState)(""),[P,L]=(0,a.useState)("all");(0,a.useEffect)(()=>{S()},[]);let S=async()=>{try{i(!0);let e=await fetch("/api/academics",{cache:"no-store"});if(e.ok){let r=await e.json();r&&t(r)}else throw Error("Failed to fetch data")}catch(e){console.error("Error fetching academic data:",e),W("Failed to load academic data","error")}finally{i(!1)}},E=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;try{if(d(!0),!(await fetch("/api/academics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw Error("Failed to save academic data");await S(),W("Changes saved successfully","success")}catch(e){console.error("Error saving academic data:",e),W("Failed to save academic data","error")}finally{d(!1)}},W=(e,t)=>{"error"===t?alert("Error: ".concat(e)):alert("Success: ".concat(e))},D=(0,a.useMemo)(()=>[...e.programs||[]].sort((e,t)=>(e.order||0)-(t.order||0)),[e.programs]),M=(0,a.useMemo)(()=>D.filter(e=>{let t=e.title.toLowerCase().includes(k.toLowerCase())||e.description.toLowerCase().includes(k.toLowerCase()),r="all"===P||e.section===P;return t&&r}),[D,k,P]),A=(0,a.useMemo)(()=>Array.from(new Set(e.programs.map(e=>e.section).filter(Boolean))),[e.programs]),R=r=>{let s;s=e.programs.findIndex(e=>e.id===r.id)>=0?e.programs.map(e=>e.id===r.id?r:e):[...e.programs,r],t({...e,programs:s})},B=(r,s)=>{let a=D.findIndex(e=>e.id===r);if(a<0)return;let o="up"===s?a-1:a+1;if(o<0||o>=D.length)return;let l=[...D];[l[a].order,l[o].order]=[l[o].order,l[a].order],t({...e,programs:l})};return r?(0,s.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,s.jsx)(o.P.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent"})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/30",children:(0,s.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,s.jsx)(o.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl border border-white/20 p-8 mb-8",children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent mb-2",children:"Academic Programs Management"}),(0,s.jsx)("p",{className:"text-gray-600 text-lg",children:"Manage your institution's academic programs and content"})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)(o.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:S,disabled:r,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 font-medium transition-all duration-200 disabled:opacity-50",children:[(0,s.jsx)(x,{}),"Reload"]}),(0,s.jsxs)(o.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>E(),disabled:n,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg font-medium transition-all duration-200 disabled:opacity-50 flex items-center gap-2",children:[n?(0,s.jsx)(h,{}):(0,s.jsx)(u,{}),n?"Saving...":"Save All"]})]})]})}),(0,s.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/70 backdrop-blur-sm rounded-2xl p-2 shadow-lg border border-white/20 inline-flex gap-2 mb-8",children:(0,s.jsxs)("div",{className:"px-6 py-3 rounded-xl font-medium bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg flex items-center gap-2",children:[(0,s.jsx)("span",{children:"\uD83D\uDCDA"}),(0,s.jsx)("span",{children:"Programs"})]})}),"programs"===j&&(0,s.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-8",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-white/20 overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-8 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-purple-50",children:[(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 items-start lg:items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Programs Management"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Add, edit, and organize your academic programs"})]}),(0,s.jsxs)(o.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{var t;return N({id:"prog_".concat(Date.now()),title:"",section:"",description:"",content:"",duration:"",eligibility:"",syllabus:"",careerProspects:[],image:"",order:((null==(t=e.programs)?void 0:t.length)||0)+1,published:!0})},className:"px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl hover:shadow-lg font-medium transition-all duration-200 flex items-center gap-2",children:[(0,s.jsx)(m,{}),"Add Program"]})]}),(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 mt-6",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)(p,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search programs...",value:k,onChange:e=>C(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("select",{value:P,onChange:e=>L(e.target.value),className:"px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"all",children:"All Sections"}),A.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})]}),(0,s.jsx)(l.N,{children:w&&(0,s.jsx)(o.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-b border-gray-100",children:(0,s.jsx)(c,{program:w,onCancel:()=>N(null),onSave:async r=>{let s=e.programs.findIndex(e=>e.id===r.id)>=0?e.programs.map(e=>e.id===r.id?r:e):[...e.programs,r],a={...e,programs:s};t(a),await E(a),N(null)}},w.id)})}),(0,s.jsx)("div",{className:"p-8",children:0===M.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCDA"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No programs found"}),(0,s.jsx)("p",{className:"text-gray-500",children:k||"all"!==P?"Try adjusting your search or filter criteria":"Start by adding your first academic program"})]}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b-2 border-gray-200",children:[(0,s.jsx)("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-700",children:"Order"}),(0,s.jsx)("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-700",children:"Program"}),(0,s.jsx)("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-700",children:"Section"}),(0,s.jsx)("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-700",children:"Status"}),(0,s.jsx)("th",{className:"px-4 py-4 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-100",children:(0,s.jsx)(l.N,{children:M.map((r,a)=>(0,s.jsxs)(o.P.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("td",{className:"px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>B(r.id,"up"),className:"p-1 rounded bg-gray-100 hover:bg-gray-200 disabled:opacity-50 transition-colors",disabled:0===a,children:(0,s.jsx)(b,{})}),(0,s.jsx)("button",{onClick:()=>B(r.id,"down"),className:"p-1 rounded bg-gray-100 hover:bg-gray-200 disabled:opacity-50 transition-colors",disabled:a===M.length-1,children:(0,s.jsx)(y,{})}),(0,s.jsx)("input",{type:"number",value:r.order,onChange:e=>{let t=parseInt(e.target.value||"0",10);R({...r,order:t})},className:"w-16 p-1 text-center border border-gray-200 rounded"})]})}),(0,s.jsx)("td",{className:"px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[r.image&&(0,s.jsx)("img",{src:r.image,alt:r.title,className:"w-10 h-10 rounded-lg object-cover"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:r.title||(0,s.jsx)("span",{className:"text-gray-400 italic",children:"Untitled Program"})}),(0,s.jsx)("div",{className:"text-sm text-gray-500 line-clamp-2",children:r.description})]})]})}),(0,s.jsx)("td",{className:"px-4 py-4",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:r.section||"No Section"})}),(0,s.jsx)("td",{className:"px-4 py-4",children:(0,s.jsxs)("label",{className:"inline-flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:r.published,onChange:e=>R({...r,published:e.target.checked}),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:r.published?"Published":"Draft"})]})}),(0,s.jsx)("td",{className:"px-4 py-4",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(o.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>N(r),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Program",children:(0,s.jsx)(g,{})}),(0,s.jsx)(o.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(r=>{if(!confirm("Are you sure you want to delete this program? This action cannot be undone."))return;let s=e.programs.filter(e=>e.id!==r);t({...e,programs:s})})(r.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Program",children:(0,s.jsx)(f,{})})]})})]},r.id))})})]})})})]})})]})})}function c(e){let{program:t,onSave:r,onCancel:l}=e,[d,c]=(0,a.useState)(t),[x,m]=(0,a.useState)(""),[p,g]=(0,a.useState)(!1),b=async()=>{if(!d.title.trim())return void alert("Please enter a program title");g(!0);try{await r(d)}finally{g(!1)}};return(0,s.jsxs)(o.P.div,{initial:{opacity:0},animate:{opacity:1},className:"p-8 bg-gradient-to-br from-gray-50 to-blue-50/30",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:t.id.startsWith("prog_")&&""===t.title?"Add New Program":"Edit Program"}),(0,s.jsx)("button",{onClick:l,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",children:(0,s.jsx)(j,{})})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Program Title *"}),(0,s.jsx)("input",{type:"text",value:d.title,onChange:e=>c({...d,title:e.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter program title"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),(0,s.jsx)("input",{type:"text",placeholder:"e.g., Undergraduate, Postgraduate, Certificate",value:d.section||"",onChange:e=>c({...d,section:e.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),(0,s.jsx)("input",{type:"text",value:d.duration,onChange:e=>c({...d,duration:e.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 4 years, 2 years"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Eligibility"}),(0,s.jsx)("input",{type:"text",value:d.eligibility,onChange:e=>c({...d,eligibility:e.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 12th Pass, Graduate"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Short Description"}),(0,s.jsx)("textarea",{value:d.description,onChange:e=>c({...d,description:e.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Brief description of the program"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Detailed Content"}),(0,s.jsx)(i.default,{value:d.content||"",onChange:e=>c({...d,content:e})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Syllabus"}),(0,s.jsx)("textarea",{value:d.syllabus,onChange:e=>c({...d,syllabus:e.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono",rows:6,placeholder:"Enter syllabus details..."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(n.A,{value:d.image||"",onChange:e=>c({...d,image:e}),label:"Program Image"})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Career Prospects"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:x,onChange:e=>m(e.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add a career prospect",onKeyPress:e=>{"Enter"===e.key&&x.trim()&&(c({...d,careerProspects:[...d.careerProspects,x.trim()]}),m(""))}}),(0,s.jsx)("button",{onClick:()=>{x.trim()&&(c({...d,careerProspects:[...d.careerProspects,x.trim()]}),m(""))},className:"px-4 py-3 bg-blue-100 text-blue-700 rounded-xl hover:bg-blue-200 transition-colors",children:"Add"})]}),d.careerProspects.length>0&&(0,s.jsx)("div",{className:"space-y-2",children:d.careerProspects.map((e,t)=>(0,s.jsxs)(o.P.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center justify-between p-3 bg-blue-50 rounded-xl",children:[(0,s.jsx)("span",{className:"text-gray-700",children:e}),(0,s.jsx)("button",{onClick:()=>c({...d,careerProspects:d.careerProspects.filter((e,r)=>r!==t)}),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:(0,s.jsx)(f,{})})]},t))})]}),(0,s.jsx)("div",{className:"flex items-center gap-3",children:(0,s.jsxs)("label",{className:"inline-flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:d.published,onChange:e=>c({...d,published:e.target.checked}),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),(0,s.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Publish this program"})]})}),(0,s.jsxs)("div",{className:"flex gap-3 pt-6 border-t border-gray-200",children:[(0,s.jsxs)(o.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:b,disabled:p,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg font-medium transition-all duration-200 disabled:opacity-50 flex items-center gap-2",children:[p?(0,s.jsx)(h,{}):(0,s.jsx)(u,{}),p?"Saving...":"Save Program"]}),(0,s.jsx)(o.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:l,className:"px-8 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 font-medium transition-all duration-200",children:"Cancel"})]})]})]})}function u(){return(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("polyline",{points:"17,21 17,13 7,13 7,21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("polyline",{points:"7,3 7,8 15,8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function x(){return(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("polyline",{points:"23,4 23,10 17,10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function h(){return(0,s.jsxs)(o.P.svg,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none",opacity:"0.3"}),(0,s.jsx)("path",{d:"M22 12a10 10 0 0 0-10-10",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round"})]})}function m(){return(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,s.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}function p(e){let{className:t}=e;return(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[(0,s.jsx)("circle",{cx:"11",cy:"11",r:"8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"m21 21-4.35-4.35",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function g(){return(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function f(){return(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("polyline",{points:"3,6 5,6 21,6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function b(){return(0,s.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("polyline",{points:"18,15 12,9 6,15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function y(){return(0,s.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("polyline",{points:"6,9 12,15 18,9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function j(){return(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,s.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}},5552:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(5155),a=r(2115),o=r(6766);function l(e){let{value:t,onChange:r,label:l="Upload Image"}=e,[i,n]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!1),u=(0,a.useRef)(null),x=async e=>{if(!e.type.startsWith("image/"))return void alert("Please select an image file");n(!0);try{let t=new FormData;t.append("file",e);let s=await fetch("/api/upload",{method:"POST",body:t});if(s.ok){let e=await s.json();r(e.url)}else{let t=URL.createObjectURL(e);r(t),console.warn("Upload failed, using local URL")}}catch(t){console.error("Upload error:",t),r(URL.createObjectURL(e))}finally{n(!1)}};return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:l}),t?(0,s.jsxs)("div",{className:"relative inline-block",children:[(0,s.jsx)("div",{className:"relative w-48 h-32 border border-gray-300 rounded-md overflow-hidden",children:(0,s.jsx)(o.default,{src:t,alt:"Uploaded image",fill:!0,className:"object-cover"})}),(0,s.jsx)("button",{type:"button",onClick:()=>{r("")},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm hover:bg-red-600",children:"\xd7"})]}):(0,s.jsx)("div",{onClick:()=>{var e;null==(e=u.current)||e.click()},onDrop:e=>{e.preventDefault(),c(!1);let t=Array.from(e.dataTransfer.files);t.length>0&&x(t[0])},onDragOver:e=>{e.preventDefault(),c(!0)},onDragLeave:e=>{e.preventDefault(),c(!1)},className:"border-2 border-dashed rounded-md p-6 text-center cursor-pointer transition-colors ".concat(d?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:i?(0,s.jsxs)("div",{className:"text-gray-500",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),"Uploading..."]}):(0,s.jsxs)("div",{className:"text-gray-500",children:[(0,s.jsx)("svg",{className:"mx-auto h-12 w-12 mb-2",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,s.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,s.jsx)("p",{children:"Click to upload or drag and drop"}),(0,s.jsx)("p",{className:"text-xs",children:"PNG, JPG, GIF up to 10MB"})]})}),(0,s.jsx)("input",{ref:u,type:"file",accept:"image/*",onChange:e=>{let t=e.target.files;t&&t.length>0&&x(t[0])},className:"hidden"})]})}}},e=>{e.O(0,[5004,277,3063,6959,847,8280,8441,5964,7358],()=>e(e.s=2016)),_N_E=e.O()}]);